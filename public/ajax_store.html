<!DOCTYPE html>

<html><head>
    <title>Online Store</title>
</head>
<body>
<link href="/css/bootstrap.css" rel="stylesheet"></link>
<h1>My Tool Store</h1>

<table class="table" id="products">
    <thead>
        <tr>
            <th class="table">Title</th>
            <th class="table">Quantity</th>
            <th class="table">Price</th>
            <th class="table">Categories</th>
        </tr>
    </thead>
    <tbody id="insertProducts"></tbody>
</table>
<button id="refresh">~Refresh~</button>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>

<script>
(function() {
	function updateStore(){
		$.get("/data/inventory.json")
	    // TODO: Create an ajax GET request for /data/inventory.json
	    
	    var inventory = $.get("/data/inventory.json")

	    inventory.done(function(data){
	    	var tableInsert = $('#insertProducts')
	    	var htmlString = '';

	    	$(data).each(function(index, product){
	    		htmlString += '<tr>'
	    		htmlString += '<td>'+ product.title +'</td>'
	    		htmlString += '<td>'+ product.quantity +'</td>'
	    		htmlString += '<td>'+ product.price +'</td>'
	    		htmlString += '<td>'+ product.categories +'</td>'
	    		htmlString += '</tr>'
	    	});

	    	tableInsert.html(htmlString);

	    });
	};

    $('#refresh').click(function(){
    	$.get("/data/inventory.json").done(updateStore)
    });

    $(document).ready(updateStore);
    // TODO: Take the data from inventory.json and append it to the products table
    //       HINT: Your data should come back as a JSON object; use console.log() to inspect
    //             its contents and fields
    //       HINT: You will want to target #insertProducts for your new HTML elements
})();
</script>



<div id="window-resizer-tooltip" style="display: none;"><a href="#" title="Edit settings"></a><span class="tooltipTitle">Window size: </span><span class="tooltipWidth" id="winWidth">1295</span> x <span class="tooltipHeight" id="winHeight">850</span><br><span class="tooltipTitle">Viewport size: </span><span class="tooltipWidth" id="vpWidth">1295</span> x <span class="tooltipHeight" id="vpHeight">501</span></div></body></html>